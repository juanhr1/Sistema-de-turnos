<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Actividad Clase 4</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f4f6f8;
  margin: 0;
  padding: 0;
}

.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

h1, h2 {
  color: #2c3e50;
}

h1 {
  text-align: center;
}

.section {
  margin-top: 30px;
}

label {
  font-weight: bold;
}

.line {
  border-bottom: 1px solid #ccc;
  margin: 8px 0 16px 0;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}

th {
  background-color: #e9eef3;
}

.note {
  background: #eef7ff;
  padding: 15px;
  border-left: 4px solid #3498db;
  margin-top: 20px;
}

.footer {
  margin-top: 30px;
  padding: 15px;
  background: #f1f1f1;
  border-radius: 8px;
}
</style>
</head>
<body>

<div class="container">

<h1>ğŸŒ Actividad Clase 4</h1>
<h2>ComunicaciÃ³n entre Servicios + REST + Eventos + Service Discovery</h2>

<p><strong>Equipo:</strong> ____________________</p>
<p><strong>Proyecto:</strong> ____________________</p>

<div class="section">
<h2>ğŸªœ 1. Interacciones entre Servicios</h2>

<p><strong>InteracciÃ³n 1: Solicitud de turno</strong></p>
<label>Servicio que envÃ­a: AplicaciÃ³n web - Cliente</label>
<div class="line"></div>
<label>Servicio que recibe: Servicio de GestiÃ³n de turnos</label>
<div class="line"></div>
<label>InformaciÃ³n enviada: Id del usuario autentificado y tipo de servicio (preferencial, asesorÃ­a o general)</label>
<div class="line"></div>
<label>Â¿QuÃ© sucede si no responde? El cliente realiza una solicitud directa al servicio
    de turnos, este servicio valida que el usuario estÃ© autenticado, genera automÃ¡ticamente
    el nÃºmero de de turno segÃºn el tipo de atenciÃ³n y lo guarda en su propia base de datos, 
    luego responde con el nÃºmero asignado y el estado inicial (pendiente). <br><br>

    Si el sistema no responde el cliente no puede obtener turno y perderÃ­a la funcionalidad
    principal, se deben aplcar reintentos automÃ¡ticos y monitoreo del servicio.

</label>
<div class="line"></div>

<p><strong>InteracciÃ³n 2: Llamar siguiente turno</strong></p>
<div class="line"></div>
<label>Servicio que envÃ­a: Empleado (interfaz interna)</label>
<div class="line"></div>
<label>Servicio que recibe: Servicio de turnos </label>
<div class="line"></div>
<label>InformaciÃ³n enviada: Solicitud para obtener el siguiente turno segÃºn prioridad configurada  </label>
<div class="line"></div>
<label>Â¿QuÃ© sucede si no responde? El empleado solicita el siguiente turno disponible.
    El servicio de turnos consulta su base de datos, selecciona el turno correspondiente, 
    cambia su estado a "en atenciÃ³n" y responde con los datos del turno. <br><br>
    Si este proceso no funciona se detiene la atenciÃ³n organizada y el banco volverÃ­a a la desorganizaciÃ³n manual.
</label>
<div class="line"></div>



<p><strong>InteracciÃ³n 3: NotificaciÃ³n de estado </strong></p>
<div class="line"></div>
</div>
<label>Servicio que envÃ­a: Servicio de turnos </label>
<div class="line"></div>
<label>Servicio que recibe: Servicio de notificaciones </label>
<div class="line"></div>
<label>InformaciÃ³n enviada: NÃºmero de turno, cambio de estado, datos del usuario </label>
<div class="line"></div>
<label>Â¿QuÃ© sucede si no responde? Cuando un turno cambia de estado, el servicio 
    de turnos genera un evento interno. El servicio de notificaciones recibe el evento 
    y envÃ­a la alerta correspondiente al cliente. <br><br>
    Si no funciona el cliente no recibe el aviso inmediato aunque el sistema principal sigue funcionando.
</label>
<div class="line"></div>

<div class="section">
<h2>ğŸªœ 2. REST o Eventos</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>REST</th>
<th>Evento</th>
<th>Â¿Por quÃ©?</th>
</tr>
<tr>
<td>1: Solicitud de turno</td>
<td> âœŒï¸ </td>
<td></td>
<td>El cliente hace una peticiÃ³n directa y necesita respuesta inmediata.</td>
</tr>
<tr>
<td>2: LLamar turno</td>
<td> âœŒï¸ </td>
<td></td>
<td> El empleado necesita confirmaciÃ³n inmediata para continuar. </td>
</tr>
<tr>
<td>3: NotificaciÃ³n</td>
<td></td>
<td> âœŒï¸ </td>
<td> Se genera automÃ¡ticamente cuando cambia el estado del turno. </td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 3. SÃ­ncrono o AsÃ­ncrono</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>SÃ­ncrono</th>
<th>AsÃ­ncrono</th>
<th>JustificaciÃ³n</th>
</tr>
<tr>
<td>1: Solicitud de turno</td>
<td> ğŸ’– </td>
<td></td>
<td> El cliente puede esperar su nÃºmero de turno. </td>
</tr>
<tr>
<td>2: LLamar turno</td>
<td> ğŸ’– </td>
<td></td>
<td> El empleado necesita respuesta inmediata. </td>
</tr>
<tr>
<td>3: NotificaciÃ³n</td>
<td></td>
<td> ğŸ’– </td>
<td> Puede ejecutarse sin bloquear el sistema principal. </td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 4. Eventos Importantes del Sistema</h2>
1ï¸âƒ£ Turno generado <br><br>
2ï¸âƒ£ Turno llamado <br><br>
3ï¸âƒ£ Turno atendido <br><br>
4ï¸âƒ£ Turno cancelado <br><br>
5ï¸âƒ£ Usuario autenticado <br><br>
6ï¸âƒ£ Falla detectada en un servicio <br><br>
Estos eventos permiten que otros servicios reaccionen sin depender directamente entre sÃ­.
</div>

<div class="section">
<h2>ğŸªœ 5. AnÃ¡lisis de Fallos</h2>
<label>Servicio mÃ¡s crÃ­tico: Servicio de turnos, porque gestiona la lÃ³gica principal de asignaciÃ³n y atenciÃ³n. </label>
<div class="line"></div>
<label>Â¿QuÃ© pasarÃ­a si falla? No se generan nuevos turnos, no se puede llamar siguiente turno, se pierde el orden de atenciÃ³n, se afecta directamente Ã±a experiencia del cliente</label>
<div class="line"></div>
<label>Â¿El sistema debe detenerse o continuar? Debe continuar, el administrador aÃºn podrÃ­a acceder a reportes anteriores. </label>
<div class="line"></div>
<label>Â¿CÃ³mo podrÃ­an manejar este fallo? Alta disponibilidad (Instancia secundaria), monitoreo constante, reintentos automÃ¡ticos e infraestructura escalable en la nube. </label>
<div class="line"></div>
</div>

<div class="section">
<h2>ğŸªœ 6. Service Discovery</h2>
<label>Â¿QuÃ© problema ocurre si cambia la IP de un servicio? En microservicios, cada servicio puede ejecutarse 
    en contenedores o diferentes servidores. Si cambia el IP los demÃ¡s servicios no sabriÃ¡n dÃ³nde encontrarlo.
</label>
<div class="line"></div>
<label>Â¿CÃ³mo sabrÃ­a un servicio dÃ³nde encontrar otro? Consultando un servicio de Service Discovery 
    que mantiene un registro actualizado de las ubicaciones de los servicios activos.
</label>
<div class="line"></div>
<label>Â¿Por quÃ© serÃ­a Ãºtil Service Discovery? Porque el sistema estÃ¡ pensado para escalar, si el servicio 
    de turnos se replica, los demÃ¡s servicios podrÃ¡n encontrarlo automÃ¡ticamente.
</label>
<div class="line"></div>
<label>Â¿DÃ³nde lo aplicarÃ­an en su sistema? Servicio de turnos, servicio de autenticaciÃ³n, servicio de notificaciones, servicio de administraciÃ³n.</label>
<div class="line"></div>
</div>

<div class="section">
<h2>ğŸªœ 7. Mini Diagrama</h2>
<p>Dibujen:</p>
<p><strong>Servicio A â†’ Service Discovery â†’ Servicio B</strong></p>
<p><strong>Empleado -> Service Discovery -> Servicio de turnos </strong></p>
<p><strong> Servicio de turnos -> Base de datos propia </strong></p>
<p><strong> Servicio de turnos -> evento -> Servicio de notificaciones </strong></p>
<p><strong> Servicio de autenticaciÃ³n -> base de datos de usuario </strong></p>
</div>

<div class="note">
ğŸ’¡ <strong>Ayuda rÃ¡pida</strong><br>
REST â†’ peticiÃ³n directa<br>
Evento â†’ algo ocurriÃ³<br>
SÃ­ncrono â†’ espera respuesta<br>
AsÃ­ncrono â†’ continÃºa sin esperar<br>
Service Discovery â†’ permite encontrar servicios automÃ¡ticamente
</div>

<div class="footer">
ğŸ¤ El equipo debe poder explicar:<br>
âœ” una interacciÃ³n importante<br>
âœ” un evento del sistema<br>
âœ” quÃ© pasa si un servicio falla<br>
âœ” dÃ³nde usarÃ­an Service Discovery
</div>

</div>
</body>
</html>